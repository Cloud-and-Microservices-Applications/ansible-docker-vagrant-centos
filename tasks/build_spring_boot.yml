---
  - set_fact:
      build_dir: /tmp/sb

  - name: create directory for files
    file: path={{ build_dir }}/files state=directory mode=0755

  - name: copy files
    copy: src=files/sample-spring-boot-0.0.1-SNAPSHOT.jar dest={{ build_dir }}/files

  - name: copy more files
    copy: src=Dockerfile dest={{ build_dir }}

  - name: create bootApp
    docker_image: path={{ build_dir }} name="springboot/app" state=present

  - name: start docker bootApp
    docker:
      name: dockerspringboot
      image: springboot/app
      state: reloaded
      volumes: /tmp
      ports:
        - "8080"
